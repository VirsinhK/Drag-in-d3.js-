<!DOCTYPE html>
<html>
<head>
<title>Squre Overlap</title>

<script type="text/javascript" src="http://mbostock.github.com/d3/d3.js"></script>
</head>
<body>
<marquee behavior="scroll" direction="left" onmousedown="this.stop();" onmouseup="this.start();">
<h1>Square overlaping</h1>
</marquee>

<p>1 part(25%) in 2*2 </p>
<p> 2 part(50%) in 2*2 matrix.</p>
<p> with 8 small square</p>



<script>

var margin = {top: 20, right: 20, bottom: 20, left: 20},
		padding = {top: 60, right: 60, bottom: 60, left: 60},
		outerWidth = 880,		
		outerHeight = 600,
		innerWidth = outerWidth - margin.left - margin.right,
		innerHeight = outerHeight - margin.top - margin.bottom,
		width = innerWidth - padding.left - padding.right,
		height = innerHeight - padding.top - padding.bottom;

		
		// 1 part overlap 
	/*	var g = d3.select("g")
  .datum({
    x: 0,
    y: 0
  })
  .call(d3.drag()
    .on("drag", function(d) {
      d3.select(this).attr("transform", "translate(" + 
      (d.x = d3.event.x) + "," + (d.y = d3.event.y) + ")")
    }))   
		*/
		
/*		var drag = d3.behavior.drag().on("drag",function(){
			this.parentNode.appendChild(this);
			var dragTarget = d3.select(this);
			console.log(dragTarget);
			dragTarget
			.attr("transform", function(d,i){
				var placeX = d3.event.dx + parseInt(dragTarget.attr("x"));
				var placeY = d3.event.dy +  parseInt(dragTarget.attr("y"));
				return "translate(" + [ placeX , placeY ] + ")"
            });
			});
*/		
	var drag = d3.behavior.drag().on("drag",function(d){
			var dragTarget = d3.select(this);
			console.log(dragTarget);
			dragTarget
			.datum({
				x: 0,
				y : 0
			})
			.attr("transform", "translate(" + [ d3.event.x , d3.event.y ] + ")")
			});
var svg = d3.select("body").append("svg")
            .attr("width", outerWidth)
			.attr("height", outerHeight)
			.style('background','#f4f4f4');
			
	/*var drag = d3.behavior.drag()
        .on("drag", function(d,i) {
            d.x += d3.event.dx
            d.y += d3.event.dy
            d3.select(this).attr("transform", function(d,i){
                return "translate(" + [ d.x,d.y ] + ")"
            })
        });*/
			
					
	var g =d3.select("svg").append("g")
			.attr("id","g1")
			.datum({
				x: 0,
				y: 0
			})
			.call(d3.behavior.drag()
				.on("drag", function(d) {
										d3.select(this).attr("transform", "translate(" + 
										(d.x = d3.event.x - 100) + "," + (d.y = d3.event.y - 100) + ")")
										})
			);
  
							
			var rectangle1 = d3.select("#g1").append("rect")
                           .attr("x", 100)
                            .attr("y", 100)
                            .attr("width", 50)
                            .attr("height", 50)
							.attr("fill","red")
							.attr("stroke", "blue");
							//.call(drag);
							
			var rectangle2 = d3.select("#g1").append("rect")
                           .attr("x", 150)
                            .attr("y", 100)
                            .attr("width", 50)
                            .attr("height", 50)
							.attr("fill","red")
							.attr("stroke", "blue");
						//	.call(d3.behavior.drag().on("drag", move));
								
			var rectangle3 = d3.select("#g1").append("rect")
                           .attr("x", 100)
                            .attr("y", 150)
                            .attr("width", 50)
                            .attr("height", 50)
							.attr("fill","red")
							.attr("stroke", "blue");
						//	.call(d3.behavior.drag().on("drag", move));
							
							
							
			var rectangle4 = d3.select("#g1").append("rect")
                           .attr("x", 150)
                            .attr("y", 150)
                            .attr("width", 50)
                            .attr("height", 50)
							.attr("fill","red")
							.attr("stroke", "blue");
						//	.call(d3.behavior.drag().on("drag", move));
							
			var g2 =d3.select("svg").append("g")
									.attr("id","g2")
									.call(drag)
									.datum({
										x: 0,
										y: 0
									})
									.call(d3.behavior.drag()
										.on("drag", function(d) {
											console.log(d);
										  d3.select(this).attr("transform", "translate(" + 
										  (d.x = d3.event.x - 500) + "," + (d.y = d3.event.y - 100) + ")")
										})
									);
						
			var rectangle5 = d3.select("#g2").append("rect")
                           .attr("x", 500)
                             .attr("y", 100)
                            .attr("width", 50)
                            .attr("height", 50)
							.attr("fill","blue")
							.attr("opacity","0.5")
							.attr("stroke", "red");
						//	.call(d3.behavior.drag().on("drag", move));
							
							
			var rectangle6 = d3.select("#g2").append("rect")
                           .attr("x", 550)
                             .attr("y", 100)
                            .attr("width", 50)
                            .attr("height", 50)
							.attr("fill","blue")
							.attr("opacity","0.5")
							.attr("stroke", "red");
						//	.call(d3.behavior.drag().on("drag", move));
							
			var rectangle7 = d3.select("#g2").append("rect")
                            .attr("x", 500)
                            .attr("y", 150)
                            .attr("width", 50)
                            .attr("height", 50)
							.attr("fill","blue")
							.attr("opacity","0.5")
							.attr("stroke", "red");
						//	.call(d3.behavior.drag().on("drag", move));
							
			var rectangle8 = d3.select("#g2").append("rect")
                           .attr("x", 550)
                            .attr("y", 150)
                            .attr("width", 50)
                            .attr("height", 50)
							.attr("fill","blue")
							.attr("opacity","0.5")
							.attr("stroke", "red");
						//	.call(d3.behavior.drag().on("drag", move));
							
							
							
		
			//.attr("x", function(){return d3.event.dx + parseInt(dragTarget.attr("x"))})
			//.attr("y", function(){return d3.event.dy + parseInt(dragTarget.attr("y"))});


		/*					
			var textbox = svg                       
                       .append("text")
						.text("2*2 matrix with one overlap")	
						.attr("x",100)
                        .attr("y",280)
						.attr("fill","red")
						.attr("font-family","sans-serif")
						.attr("font-size",20);
			
			*/
		/*
							
		//2*2 matrix 2 part overlaping				

					
							
			var rectangle1 = svg.append("rect")
                           .attr("x", 500)
                            .attr("y", 100)
                            .attr("width", 50)
                            .attr("height", 50)
							.attr("fill","red")
							.attr("stroke", "blue");
							
			var rectangle2 = svg.append("rect")
                           .attr("x", 550)
                            .attr("y", 100)
                            .attr("width", 50)
                            .attr("height", 50)
							.attr("fill","red")
							.attr("stroke", "blue");
								
			var rectangle3 = svg.append("rect")
                           .attr("x", 500)
                            .attr("y", 150)
                            .attr("width", 50)
                            .attr("height", 50)
							.attr("fill","red")
							.attr("stroke", "blue");
							
							
							
			var rectangle4 = svg.append("rect")
                           .attr("x", 550)
                            .attr("y",150)
                            .attr("width", 50)
                            .attr("height", 50)
							.attr("fill","red")
							.attr("stroke", "blue");
							
							
		
							
							
			var rectangle5 = svg.append("rect")
                           .attr("x", 500)
                             .attr("y", 150)
                            .attr("width", 50)
                            .attr("height", 50)
							.attr("fill","blue")
							.attr("opacity","0.5")
							.attr("stroke", "red");
							
			var rectangle6 = svg.append("rect")
                           .attr("x", 550)
                             .attr("y", 150)
                            .attr("width", 50)
                            .attr("height", 50)
							.attr("fill","blue")
							.attr("opacity","0.5")
							.attr("stroke", "red");				
							
							

							
			var rectangle7 = svg.append("rect")
                           .attr("x", 500)
                             .attr("y", 200)
                            .attr("width", 50)
                            .attr("height", 50)
							.attr("fill","blue")
							.attr("opacity","0.5")
							.attr("stroke", "red");
							
			var rectangle8 = svg.append("rect")
                           .attr("x", 550)
                            .attr("y", 200)
                            .attr("width", 50)
                            .attr("height", 50)
							.attr("fill","blue")
							.attr("opacity","0.5")
							.attr("stroke", "red"); 
							
		
		var textbox = svg                       
                       .append("text")
						.text("2*2 matrix with two part overlap")	
						.attr("x",100)
                        .attr("y",280)
						.attr("fill","red")
						.attr("font-family","sans-serif")
						.attr("font-size",20); */
							
</script>
</body>
</html>